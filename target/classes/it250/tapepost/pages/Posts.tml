<html t:type="layout" title="TapePost:Posts "
      xmlns:t="http://tapestry.apache.org/schema/tapestry_5_4.xsd"
      xmlns:p="tapestry:parameter">

    <!-- Most of the page content, including <head>, <body>, etc. tags, comes from Layout.tml -->

    <!-- Main hero unit for a primary marketing message or call to action -->
    <body>
        <t:header/>
        <t:mainmenu/>
        <div class="row title-header border_btm">
            <h4 >Posts</h4>
        </div>
        
        <div class="row">
            <div class="control-group col-xs-6">
                <h5 >Recent posts</h5>
                <t:loop t:source="recentPosts" t:value="post">
                    <div class="col-xs-12 post">
                            <t:eventlink t:event="selectPost" t:context="post.postId" async="true" class="post-title">${post.getPostTitle()}</t:eventlink>
                            <h5> 
                                posted on <b>${getFormattedDate(post.getPostTime())}</b> at <b>${getFormattedTime(post.getPostTime())}</b> by 
                            <t:pagelink t:page="view/ViewMember" t:context="post.getMember().getMemberId()">${post.getMember().getMemberUsername()}</t:pagelink>
                        </h5>
                        <h6>${post.getPostContent()}</h6>
                    </div>
                </t:loop>
            </div>
            <div class="control-group col-xs-6">
                <h5 >Popular posts</h5>
                <div class="col-xs-12">
                    Popular post 1
                </div>
                <div class="col-xs-12">
                    Popular post 2
                </div>
                <div class="col-xs-12">
                    Popular post 3
                </div>
            </div>
        </div>
        
        <div class="row">
            <!--DISPLAY POST DETAILS-->
            <t:zone t:id="postDetailsZone" id="postDetails">
                <!--<t:if test="checkRegistration">-->
                <div class="row">
                    <div class="col-sm-9">
                        <h4 class="col-sm-3">Post ID: #${post.postId}</h4>
                    </div>
                    <!--<t:pagelink t:page="delete/DeleteClient" t:context="client.clientId" class=" btn image-pagelink" title="Delete client?">-->
                    <!--<img src="${context:images/icons/delete-client.png}" title="Delete client?"/>-->
                    <!--</t:pagelink>-->
                    <!--<t:pagelink t:page="edit/EditClient" t:context="client.clientId" class="btn btn-default " title="Edit client info">Edit</t:pagelink>-->
                    <!--<t:pagelink t:page="view/ViewClient" t:context="client.clientId" class="btn btn-primary " title="View client details">View</t:pagelink>-->
                </div>
                <div class="row well">
                    <h5>Latest comments on this post</h5>
                    <div class="col-sm-2">
                        <!--                        <label>Company name:</label>
                        <h4>${client.clientCompany}</h4>-->
                    </div>
                    <div class="col-sm-2">
                        <!--                        <label>Contact person:</label>
                        <h4>${client.clientContact}</h4>-->
                    </div>
                    <div class="col-sm-2">
                        <!--                        <label>E-mail:</label>
                        <h4>${client.clientEmail}</h4>-->
                    </div>
                    <div class="col-sm-2 col-sm-offset-2">
                        <!--                        <label>Phone:</label>
                        <h4>${client.clientPhone}</h4>-->
                    </div>
                    <div class="col-sm-2">
                        <!--                        <label>Website:</label>
                        <h4>${client.clientWebsite}</h4>-->
                    </div>
                </div>
                    
                <h4>Post comments:</h4>
                <!--                <div class="row">
                    <table class="table display-grid">
                        <th>Invoice #</th>
                        <th>Services</th>
                        <th>Status</th>
                        <th>Invoice total</th>
                        <tr t:type="loop" t:source="client.getInvoices()" value="invoice">
                            <td>
                                <t:pagelink t:page="view/ViewInvoice" t:context="invoice.invoiceId">${invoice.invoiceNumber}</t:pagelink>
                            </td>
                            <td>
                                <t:loop t:source="invoice.getServices()" value="service">
                                    ${service.serviceDescription}<br/>
                                </t:loop>
                            </td>
                            <td>${invoice.invoiceStatus}</td>
                            <td>
                                ${invoice.invoiceAmount} ${invoice.getInvoiceCurrency().getValue()}
                            </td>
                        </tr>
                    </table>
                </div> -->
                <!--</t:if>-->
            </t:zone>
        </div>
        
        
        
        <div class="row">
<!--            <t:grid t:source="posts" row="post" add="posted by">
                <p:postedByCell>
                    ${post.getMember().getMemberUsername()}
                </p:postedByCell>
                
            </t:grid>-->
        </div>
    </body>
    
</html>

